<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rewrite_prompt</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6; 
            color: #333; 
            background: #fff;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { 
            background: #2c3e50; 
            color: white; 
            padding: 1rem 0; 
            position: sticky; 
            top: 0; 
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .home-btn { 
            position: fixed; 
            top: 20px; 
            right: 20px; 
            background: #e74c3c; 
            color: white; 
            padding: 12px 16px; 
            border-radius: 50px; 
            text-decoration: none; 
            font-weight: bold; 
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        .home-btn:hover { background: #c0392b; transform: translateY(-2px); }
        .breadcrumb { 
            background: #ecf0f1; 
            padding: 10px 0; 
            margin-bottom: 20px; 
            font-size: 14px;
        }
        .breadcrumb a { color: #3498db; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { font-weight: bold; color: #333; }
        .content { 
            background: white; 
            padding: 2rem; 
            border-radius: 8px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .file-list { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
            gap: 1rem; 
            margin: 2rem 0; 
        }
        .file-item { 
            padding: 1rem; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            background: #f8f9fa;
            transition: all 0.3s;
        }
        .file-item:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 4px 12px rgba(0,0,0,0.15); 
        }
        .file-item a { 
            color: #2c3e50; 
            text-decoration: none; 
            font-weight: 500; 
            display: block;
        }
        .file-item a:hover { color: #3498db; }
        .file-type { 
            font-size: 12px; 
            color: #7f8c8d; 
            margin-top: 5px; 
        }
        .tree { font-family: monospace; white-space: pre-line; background: #f8f9fa; padding: 1rem; border-radius: 8px; }
        pre { background: #2c3e50; color: #ecf0f1; padding: 1rem; border-radius: 8px; overflow-x: auto; }
        code { background: #ecf0f1; padding: 2px 4px; border-radius: 4px; font-size: 0.9em; }
        pre code { background: none; padding: 0; }
        h1, h2, h3, h4, h5, h6 { color: #2c3e50; margin: 1.5rem 0 1rem 0; }
        h1 { border-bottom: 3px solid #3498db; padding-bottom: 10px; }
        a { color: #3498db; }
        a:hover { color: #2980b9; }
        .footer { 
            text-align: center; 
            padding: 2rem; 
            color: #7f8c8d; 
            border-top: 1px solid #ecf0f1; 
            margin-top: 3rem; 
        }
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .file-list { grid-template-columns: 1fr; }
            .content { padding: 1rem; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1>rewrite_prompt</h1>
        </div>
    </div>
    <a href="../../../index.html" class="home-btn">üè† Home</a>
    <div class="container">
        <div class="breadcrumb">
            <a href="../../../index.html">Home</a> / <a href="../../../IPEV_LOOP_FACTORY/index.html">IPEV_LOOP_FACTORY</a> / <a href="../../../IPEV_LOOP_FACTORY/RELEASES/index.html">RELEASES</a> / <a href="../../../IPEV_LOOP_FACTORY/RELEASES/ALPHA/index.html">ALPHA</a>
        </div>
        <div class="content">
            <h2 id="role"><strong>Role:</strong></h2>
<p>You are a <strong>Senior Technical Author and Framework Strategist</strong>. Your mission is to rewrite and enhance a provided technical paper about a prompting framework called the <strong>Intent-Plan-Execute-Verify (IPEV) Loop</strong>.</p>
<p>The original paper is a brilliant foundational text for making AI agents reliable in a stable environment. However, it has been stress-tested in a real-world scenario with an unstable, beta-level tool (Gemini CLI), and several critical limitations were discovered.</p>
<p>Your task is to create <strong>Version 2.0</strong> of this paper by integrating the insights from a detailed critique that was generated during that stress test. You must preserve the core wisdom of the original paper while making it more resilient, fault-tolerant, and practical for developers working with the imperfect AI tools of today.</p>
<hr />
<h3 id="input-materials"><strong>Input Materials</strong></h3>
<p>You will be given two documents:</p>
<ol>
<li><strong>The Original Paper:</strong> The foundational text describing the IPEV Loop.</li>
<li><strong>The Critique:</strong> A detailed, objective analysis of the framework's limitations, with specific recommendations for improvement.</li>
</ol>
<hr />
<h3 id="guiding-philosophy-for-the-rewrite"><strong>Guiding Philosophy for the Rewrite</strong></h3>
<ul>
<li><strong>Preserve the Core, Enhance the Edges:</strong> Do not discard the original IPEV Loop. It is the "happy path" and the core of the framework. Your job is to add the "unhappy path" protocols that handle failure and instability.</li>
<li><strong>From Ideal to Real:</strong> Shift the paper's tone from a theoretical guide for an ideal agent to a practical, battle-tested guide for real-world, buggy, and unstable agents.</li>
<li><strong>Clarity and Actionability:</strong> Every new concept must be explained clearly and be accompanied by actionable examples, just as in the original paper.</li>
</ul>
<hr />
<h3 id="specific-instructions-for-the-rewrite"><strong>Specific Instructions for the Rewrite</strong></h3>
<p>You must integrate all recommendations from <strong>The Critique</strong> into the new version of the paper. Here is your roadmap:</p>
<ol>
<li>
<p><strong>Structure the New Paper:</strong></p>
<ul>
<li>Keep the original introduction and the explanation of the "Ambiguity Gap."</li>
<li>Frame the original IPEV Loop as the foundational "happy path" protocol.</li>
<li>Create new, distinct sections for the resilience protocols that address the critique's points. Title them clearly (e.g., "Part II: Building a Resilient Agent").</li>
</ul>
</li>
<li>
<p><strong>Address Critique 1: The "Brittle Halt":</strong></p>
<ul>
<li>Transform the simple "HALT" command into a more sophisticated <strong>"Diagnostic Mode"</strong> or <strong>"Meta-Debugging Loop."</strong></li>
<li>Explain <em>why</em> a simple HALT is insufficient and how this new mode allows the agent to debug its own verification tools.</li>
<li>Provide examples, such as isolating a failing test file or adding debugging flags (<code>-v</code>, <code>--timeout</code>).</li>
</ul>
</li>
<li>
<p><strong>Address Critique 2: The Lack of a Control Channel:</strong></p>
<ul>
<li>Introduce the <strong>"Directive Protocol"</strong> as a formal "escape hatch" from the main IPEV loop.</li>
<li>Explain that this protocol creates a prioritized "control channel" for the user to issue direct, one-off commands for inspection or manual overrides.</li>
<li>Provide a clear syntax, such as the <code>DIRECTIVE:</code> prefix, and explain why it's crucial for user control.</li>
</ul>
</li>
<li>
<p><strong>Address Critique 3: The "Stateless Agent" Assumption:</strong></p>
<ul>
<li>Add a new core section on <strong>"Agent State Management."</strong></li>
<li>Introduce the concepts of <strong>"Health Checks"</strong> (e.g., checking for UI error indicators) and the danger of <strong>"Session Corruption."</strong></li>
<li>Formalize the <strong>Recovery Protocol:</strong> Emphasize the importance of saving checkpoints after successes and using them to restore a known-good state after a failure is detected.</li>
</ul>
</li>
<li>
<p><strong>Address Critique 4: The "Reliable Tool" Assumption:</strong></p>
<ul>
<li>Add a final section on <strong>"Tool Instability and Workarounds."</strong></li>
<li>Acknowledge that the agent's host application can freeze or crash.</li>
<li>Introduce the protocol of using an <strong>"External Execution Environment"</strong> (like a standard terminal) as a last resort for unstable commands, and then feeding the results back to the agent.</li>
</ul>
</li>
</ol>
<hr />
<h3 id="desired-output-format"><strong>Desired Output Format</strong></h3>
<ul>
<li>A single, complete, rewritten Markdown document.</li>
<li>Title the new document something like: <strong>"The IPEV Loop 2.0: A Resilient Framework for Agentic AI"</strong> or a similar title that reflects its evolution.</li>
<li>Include a short introductory section titled <strong>"What's New in 2.0?"</strong> that summarizes the key improvements (e.g., "Added Diagnostic Mode for verification failures, introduced the Directive Protocol for user control," etc.). This will help readers of the original understand the changes.</li>
</ul>
<hr />
<h2 id="now-i-will-provide-you-with-the-two-source-documents-please-confirm-when-you-are-ready-to-begin-the-rewrite">Now, I will provide you with the two source documents. Please confirm when you are ready to begin the rewrite.</h2>
<p>See the attachments for the paper at question:
<code>IPEV_LOOP.md</code></p>
<p>and the expert critique:
<code>critique.md</code></p>
        </div>
        <div class="footer">
            Generated on 2025-08-30 08:20:34
        </div>
    </div>
</body>
</html>