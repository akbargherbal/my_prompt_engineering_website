<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mission</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6; 
            color: #333; 
            background: #fff;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { 
            background: #2c3e50; 
            color: white; 
            padding: 1rem 0; 
            position: sticky; 
            top: 0; 
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .home-btn { 
            position: fixed; 
            top: 20px; 
            right: 20px; 
            background: #e74c3c; 
            color: white; 
            padding: 12px 16px; 
            border-radius: 50px; 
            text-decoration: none; 
            font-weight: bold; 
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        .home-btn:hover { background: #c0392b; transform: translateY(-2px); }
        .breadcrumb { 
            background: #ecf0f1; 
            padding: 10px 0; 
            margin-bottom: 20px; 
            font-size: 14px;
        }
        .breadcrumb a { color: #3498db; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { font-weight: bold; color: #333; }
        .content { 
            background: white; 
            padding: 2rem; 
            border-radius: 8px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .file-list { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
            gap: 1rem; 
            margin: 2rem 0; 
        }
        .file-item { 
            padding: 1rem; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            background: #f8f9fa;
            transition: all 0.3s;
        }
        .file-item:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 4px 12px rgba(0,0,0,0.15); 
        }
        .file-item a { 
            color: #2c3e50; 
            text-decoration: none; 
            font-weight: 500; 
            display: block;
        }
        .file-item a:hover { color: #3498db; }
        .file-type { 
            font-size: 12px; 
            color: #7f8c8d; 
            margin-top: 5px; 
        }
        .tree { font-family: monospace; white-space: pre-line; background: #f8f9fa; padding: 1rem; border-radius: 8px; }
        pre { background: #2c3e50; color: #ecf0f1; padding: 1rem; border-radius: 8px; overflow-x: auto; }
        code { background: #ecf0f1; padding: 2px 4px; border-radius: 4px; font-size: 0.9em; }
        pre code { background: none; padding: 0; }
        h1, h2, h3, h4, h5, h6 { color: #2c3e50; margin: 1.5rem 0 1rem 0; }
        h1 { border-bottom: 3px solid #3498db; padding-bottom: 10px; }
        a { color: #3498db; }
        a:hover { color: #2980b9; }
        .footer { 
            text-align: center; 
            padding: 2rem; 
            color: #7f8c8d; 
            border-top: 1px solid #ecf0f1; 
            margin-top: 3rem; 
        }
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .file-list { grid-template-columns: 1fr; }
            .content { padding: 1rem; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1>mission</h1>
        </div>
    </div>
    <a href="../../../index.html" class="home-btn">üè† Home</a>
    <div class="container">
        <div class="breadcrumb">
            <a href="../../../index.html">Home</a> / <a href="../../../IPEV_LOOP_FACTORY/index.html">IPEV_LOOP_FACTORY</a> / <a href="../../../IPEV_LOOP_FACTORY/RELEASES/index.html">RELEASES</a> / <a href="../../../IPEV_LOOP_FACTORY/RELEASES/V21/index.html">V21</a>
        </div>
        <div class="content">
            <h1 id="mission-refactor-gemini-bridge-to-meet-all-documented-requirements">Mission: Refactor Gemini Bridge to Meet All Documented Requirements</h1>
<p><strong>Agent Platform:</strong> Gemini CLI (YOLO Mode)</p>
<h2 id="1-core-protocol-the-enhanced-ipev-loop-with-two-tiered-checkpointing">1. Core Protocol: The Enhanced IPEV Loop with Two-Tiered Checkpointing</h2>
<p>For every state-changing action, you MUST follow this enhanced protocol:</p>
<h3 id="standard-ipev-flow">Standard IPEV Flow:</h3>
<ol>
<li><strong>INTENT:</strong> State your immediate objective.</li>
<li><strong>PLAN:</strong> Specify the EXACT commands and file modifications.</li>
<li><strong>EXECUTE:</strong> Run the exact command or apply the file modification.</li>
<li><strong>VERIFY:</strong> Perform a check to prove the change was successful (e.g., run a specific <code>pytest</code> test).</li>
</ol>
<h3 id="critical-checkpointing-protocol-after-a-successful-verify"><strong>CRITICAL</strong> Checkpointing Protocol (After a successful VERIFY):</h3>
<ol>
<li><strong>CODE CHECKPOINT (Autonomous):</strong> You MUST use git to save the successful changes. Your plan must include <code>git add .</code> and <code>git commit -m "Verified Feature: [brief description of feature]"</code>.</li>
<li><strong>SESSION CHECKPOINT (Collaborative):</strong> After the git commit is successful, you MUST PAUSE and output the following exact phrase: "<strong>CODE CHECKPOINT COMPLETE. Please save the session now with <code>/chat save [descriptive-name]</code> and type 'CONTINUE' to proceed.</strong>" You will not proceed until I respond with "CONTINUE".</li>
</ol>
<h3 id="resilience-extensions">Resilience Extensions:</h3>
<ul>
<li><strong>Diagnostic Mode:</strong> If a <code>VERIFY</code> step fails, pivot to diagnosing the failure. Run <code>pytest</code> with <code>-v</code> for more verbose output.</li>
<li><strong>Health Checks:</strong> After any unexpected error, run <code>ls -l</code> to ensure the tool environment is responsive.</li>
</ul>
<h2 id="2-directive-protocol">2. Directive Protocol</h2>
<p>Commands prefixed with <code>DIRECTIVE:</code> are for inspection. Use them to examine files before formulating a plan.
*   <code>DIRECTIVE: Show me the current content of session_manager.py</code>
*   <code>DIRECTIVE: Run git status</code></p>
<h2 id="3-environment-context">3. Environment Context</h2>
<ul>
<li><strong>Tech Stack:</strong> Python 3.10+</li>
<li><strong>Agent Platform:</strong> Gemini CLI.</li>
<li><strong>External Dependencies:</strong> The <code>gemini</code> command must be in the system's PATH.</li>
</ul>
<h3 id="known-instabilities-workarounds">Known Instabilities &amp; Workarounds:</h3>
<ul>
<li><strong>CRITICAL BUG IDENTIFIED:</strong> The command <code>gemini -</code> is invalid. The <code>subprocess.Popen</code> call in <code>session_manager.py</code> uses this and will fail. <strong>This must be the first bug you fix.</strong> The correct command is <code>["gemini"]</code>.</li>
</ul>
<h2 id="4-mission-parameters">4. Mission Parameters</h2>
<h3 id="inputs">Inputs:</h3>
<ul>
<li>The provided source code for the Gemini Bridge project.</li>
<li>Feature requirements from <code>docs/inception/must_should_have_features.md</code>.</li>
<li>Problem statement from <code>docs/inception/product_requirements.md</code>.</li>
</ul>
<h3 id="outputs">Outputs:</h3>
<ul>
<li>A refactored codebase where all "MUST HAVE" and "SHOULD HAVE" features are correctly implemented and committed incrementally to git.</li>
<li>New <code>pytest</code> tests covering the implemented features.</li>
</ul>
<h3 id="critical-constraints">Critical Constraints:</h3>
<ul>
<li>Output to the user's file MUST be pure Markdown and must APPEND.</li>
<li>The application must operate with minimal terminal interaction after setup.</li>
</ul>
<h2 id="5-task-specific-resilient-guidelines">5. Task-Specific Resilient Guidelines</h2>
<ol>
<li><strong>Fix Before Feature:</strong> Always ensure the application is in a working state before adding new features.</li>
<li><strong>Test-Driven Implementation:</strong> For each new feature, your plan must include both the implementation and the creation of a corresponding test.</li>
<li><strong>Incremental Commits:</strong> Follow the IPEV &amp; Checkpointing protocol for <em>every single feature</em>. Do not batch multiple features into one commit.</li>
</ol>
<h2 id="6-success-criteria-verification-strategy">6. Success Criteria &amp; Verification Strategy</h2>
<p><strong>Mission Complete When:</strong>
*   All 11 features from <code>docs/inception/must_should_have_features.md</code> are implemented and committed.
*   <code>python main.py</code> runs the application successfully.
*   <code>pytest</code> passes with 100% success.</p>
<p><strong>Verification Methods:</strong>
*   <code>pytest</code> for automated testing.
*   Shell commands (<code>ls</code>, <code>cat</code>) to manually verify the end-to-end file-watching workflow.</p>
<h2 id="7-enhanced-execution-flow">7. Enhanced Execution Flow</h2>
<ol>
<li><strong>Initialize:</strong> Acknowledge these instructions and the new two-tiered checkpointing protocol. Perform an initial health check with <code>ls -F</code> and <code>git status</code>.</li>
<li><strong>Survey (Directives):</strong> Use <code>DIRECTIVE</code> to read <code>session_manager.py</code>, <code>gemini_bridge.py</code>, and <code>docs/inception/must_should_have_features.md</code>.</li>
<li><strong>Execute Phase 1 (Critical Bug Fix):</strong><ul>
<li>Use the IPEV loop to fix the invalid <code>gemini -</code> command in <code>session_manager.py</code>.</li>
<li>For your <strong>VERIFY</strong> step, create a new test in <code>test_session_manager.py</code> that confirms <code>start_session()</code> now works.</li>
<li>After verification, perform the full <strong>Checkpointing Protocol</strong> (Code and Session).</li>
</ul>
</li>
<li><strong>Execute Phase 2 (Feature Implementation):</strong><ul>
<li>Systematically work through each "MUST HAVE" and "SHOULD HAVE" feature. For each one:<ul>
<li>Follow the full IPEV loop.</li>
<li>Follow the full Checkpointing Protocol upon success.</li>
<li>Wait for my "CONTINUE" signal before starting the next feature.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Final Verification:</strong><ul>
<li>Run the full <code>pytest</code> suite one last time.</li>
<li>Perform a final end-to-end manual verification.</li>
</ul>
</li>
<li><strong>Complete:</strong> Announce mission completion and perform a final checkpoint.</li>
</ol>
<p>Now, begin with the initialization and survey steps.</p>
        </div>
        <div class="footer">
            Generated on 2025-08-30 08:20:35
        </div>
    </div>
</body>
</html>